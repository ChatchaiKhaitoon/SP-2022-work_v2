<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>9 Jars Monthly Income Allocation System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    
    <link rel="stylesheet" href="/dashboard/personalized-jars-style.css" />
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@300&display=swap" rel="stylesheet">
    
      <style>
      h1 {text-align: center;}
      p {text-align: center;}
      div {text-align: center;}
      </style>
    <h1>กระปุกเก็บเงินส่วนบุคคล</h1>
  </head>
  <body>
    
    <img src="/images/money-jar2.png" alt="9 Jars">
    
    <div class="jar-container">
      <div class="jar">
        <h3>ใช้ในชีวิตประจำวัน</h3>
        <input type="number" id="necessity" value="0" />
        <button onclick="addMoney('necessity')">เพิ่ม</button>
        <button onclick="reduceMoney('necessity')">ลด</button>
        <button onclick="transferMoney('necessity')">ย้าย</button>
      </div>
      <div class="jar">
        <h3>การศึกษา</h3>
        <input type="number" id="education" value="0" />
        <button onclick="addMoney('education')">เพิ่ม</button>
        <button onclick="reduceMoney('education')">ลด</button>
        <button onclick="transferMoney('education')">ย้าย</button>
      </div>
      <div class="jar">
        <h3>ให้รางวัลตัวเอง</h3>
        <input type="number" id="play" value="0" />
        <button onclick="addMoney('play')">เพิ่ม</button>
        <button onclick="reduceMoney('play')">ลด</button>
        <button onclick="transferMoney('play')">ย้าย</button>
      </div>
      <div class="jar">
        <h3>บริจาค แบ่งปัน</h3>
        <input type="number" id="giving" value="0" />
        <button onclick="addMoney('giving')">เพิ่ม</button>
        <button onclick="reduceMoney('giving')">ลด</button>
        <button onclick="transferMoney('giving')">ย้าย</button>
      </div>
      <div class="jar">
        <h3>เงินสำรองฉุกเฉิน</h3>
        <input type="number" id="emergency" value="0" />
        <button onclick="addMoney('emergency')">เพิ่ม</button>
        <button onclick="reduceMoney('emergency')">ลด</button>
        <button onclick="transferMoney('emergency')">ย้าย</button>
      </div>
      <div class="jar">
        <h3>เงินหลังเกษียณ</h3>
        <input type="number" id="retirement" value="0" />
        <button onclick="addMoney('retirement')">เพิ่ม</button>
        <button onclick="reduceMoney('retirement')">ลด</button>
        <button onclick="transferMoney('retirement')">ย้าย</button>
      </div>
      <div class="jar">
        <h3>เงินประกัน</h3>
        <input type="number" id="insurance" value="0" />
        <button onclick="addMoney('insurance')">เพิ่ม</button>
        <button onclick="reduceMoney('insurance')">ลด</button>
        <button onclick="transferMoney('insurance')">ย้าย</button>
      </div>
      <div class="jar">
        <h3>เงินลงทุนต่อยอด</h3>
        <input type="number" id="freedom" value="0" />
        <button onclick="addMoney('freedom')">เพิ่ม</button>
        <button onclick="reduceMoney('freedom')">ลด</button>
        <button onclick="transferMoney('freedom')">ย้าย</button>
      </div>

      <div class="jar">
        <h3>เงินชำระหนี้</h3>
        <input type="number" id="debt" value="0" />
        <button onclick="addMoney('debt')">เพิ่ม</button>
        <button onclick="reduceMoney('debt')">ลด</button>
        <button onclick="transferMoney('debt')">ย้าย</button>
      </div>
    </div>
    <script src="/js/personalized-jars-script.js"></script>
    <script>
      let necessityInput = document.getElementById("necessity");
      let educationInput = document.getElementById("education");
      let playInput = document.getElementById("play");
      let givingInput = document.getElementById("giving");
      let emergencyInput = document.getElementById("emergency");
      let retirementInput = document.getElementById("retirement");
      let insuranceInput = document.getElementById("insurance");
      let freedomInput = document.getElementById("freedom");
      let debtInput = document.getElementById("debt");
      
      
      async function getJars(){
        const userid = window.sessionStorage.getItem('userid');
        const res = await fetch(`http://localhost:3000/api/get-jars/${userid}`)
        return res.json();
      }
      const data = getJars();
      data.then((res)=>{
        necessityInput.value = res.Jar_Ness;
        educationInput.value = res.Jar_Edu;
        playInput.value = res.Jar_Play;
        givingInput.value = res.Jar_Give;
        emergencyInput.value = res.Jar_Emergency;
        retirementInput.value = res.Jar_Retirement;
        insuranceInput.value = res.Jar_Insurance;
        freedomInput.value = res.Jar_MoneyFreedom;
        debtInput.value = res.Jar_Debt;
        
        jars.necessity = res.Jar_Ness
        jars.education = res.Jar_Edu
        jars.play = res.Jar_Play
        jars.giving = res.Jar_Give
        jars.emergency = res.Jar_Emergency
        jars.retirement = res.Jar_Retirement
        jars.insurance = res.Jar_Insurance
        jars.freedom = res.Jar_MoneyFreedom
        jars.debt = res.Jar_Debt
        
      }).catch((err)=>{
        console.log(err);
      });
      
      
      
    
    </script>
     
    </body>
</html>